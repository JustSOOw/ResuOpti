# æ•°æ®åº“ç§å­æ•°æ® (Seeders)

## æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒçš„ç§å­æ•°æ®è„šæœ¬ã€‚è¿™äº›è„šæœ¬ä¼šåˆ›å»ºæ¼”ç¤ºç”¨æˆ·è´¦å·å’Œç¤ºä¾‹æ•°æ®ï¼Œæ–¹ä¾¿å¼€å‘å’Œæµ‹è¯•ä½¿ç”¨ã€‚

## æ–‡ä»¶ç»“æ„

```
seeders/
â”œâ”€â”€ index.js                   # ä¸»æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ 01-demo-user.js            # æ¼”ç¤ºç”¨æˆ·æ•°æ®
â”œâ”€â”€ 02-demo-positions.js       # ç›®æ ‡å²—ä½æ•°æ®
â”œâ”€â”€ 03-demo-resumes.js         # ç®€å†ç‰ˆæœ¬æ•°æ®
â”œâ”€â”€ 04-demo-applications.js    # æŠ•é€’è®°å½•æ•°æ®
â””â”€â”€ README.md                  # æœ¬æ–‡æ¡£
```

## ä½¿ç”¨æ–¹æ³•

### 1. æ‰§è¡Œæ‰€æœ‰ç§å­æ•°æ®

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
node backend/src/seeders/index.js
```

æˆ–è€…åœ¨ backend ç›®å½•ä¸‹æ‰§è¡Œ:

```bash
cd backend
node src/seeders/index.js
```

### 2. å›æ»šç§å­æ•°æ®

```bash
node backend/src/seeders/index.js rollback
```

æˆ–è€…:

```bash
node backend/src/seeders/index.js down
```

## æ¼”ç¤ºè´¦å·ä¿¡æ¯

æ‰§è¡Œç§å­æ•°æ®åï¼Œä¼šåˆ›å»ºä»¥ä¸‹æ¼”ç¤ºè´¦å·ï¼š

- **é‚®ç®±**: demo@resumopti.com
- **å¯†ç **: Demo1234

## åˆ›å»ºçš„ç¤ºä¾‹æ•°æ®

### 1. ç”¨æˆ·æ•°æ® (1æ¡)
- æ¼”ç¤ºç”¨æˆ·: demo@resumopti.com

### 2. ç›®æ ‡å²—ä½æ•°æ® (3æ¡)
- å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- åç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆ

### 3. ç®€å†ç‰ˆæœ¬æ•°æ® (3æ¡)
- å‰ç«¯å¼€å‘-äº’è”ç½‘å¤§å‚ç‰ˆ (åœ¨çº¿ç®€å†)
- åç«¯å¼€å‘-å¾®æœåŠ¡æ¶æ„ç‰ˆ (æ–‡ä»¶ç®€å†)
- å…¨æ ˆå¼€å‘-åˆ›ä¸šå…¬å¸ç‰ˆ (åœ¨çº¿ç®€å†)

### 4. ç®€å†å…ƒæ•°æ® (3æ¡)
- æ¯ä¸ªç®€å†ç‰ˆæœ¬éƒ½æœ‰å¯¹åº”çš„å¤‡æ³¨å’Œæ ‡ç­¾

### 5. æŠ•é€’è®°å½•æ•°æ® (6æ¡)
- ä¸åŒçŠ¶æ€çš„æŠ•é€’è®°å½•:
  - å·²æŠ•é€’
  - é¢è¯•é‚€è¯·
  - å·²æ‹’ç»
  - å·²å½•ç”¨

## æ³¨æ„äº‹é¡¹

### âš ï¸ ç¯å¢ƒé™åˆ¶

ç§å­æ•°æ®**ä»…ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ**ï¼Œä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œï¼

### ğŸ“‹ æ‰§è¡Œå‰æ

1. ç¡®ä¿æ•°æ®åº“å·²åˆ›å»ºå¹¶æ­£ç¡®é…ç½®
2. ç¡®ä¿å·²è¿è¡Œæ•°æ®åº“è¿ç§» (migrations)
3. ç¡®ä¿ `.env` æ–‡ä»¶ä¸­æ•°æ®åº“é…ç½®æ­£ç¡®

### ğŸ”„ æ‰§è¡Œé¡ºåº

ç§å­æ•°æ®è„šæœ¬å¿…é¡»æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

```
01-demo-user.js
    â†“
02-demo-positions.js
    â†“
03-demo-resumes.js
    â†“
04-demo-applications.js
```

ä¸»è„šæœ¬ `index.js` ä¼šè‡ªåŠ¨æŒ‰æ­¤é¡ºåºæ‰§è¡Œã€‚

### ğŸ—‘ï¸ æ¸…ç†æ•°æ®

å¦‚æœéœ€è¦æ¸…ç†ç§å­æ•°æ®ï¼Œè¿è¡Œå›æ»šå‘½ä»¤ï¼š

```bash
node backend/src/seeders/index.js rollback
```

å›æ»šæ“ä½œä¼šæŒ‰ç›¸åé¡ºåºåˆ é™¤æ‰€æœ‰æ¼”ç¤ºæ•°æ®ã€‚

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ç§å­æ•°æ®

1. åœ¨ `seeders/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå‘½åæ ¼å¼: `05-your-seeder-name.js`
2. å®ç° `up` å’Œ `down` ä¸¤ä¸ªæ–¹æ³•
3. åœ¨ `index.js` ä¸­å¼•å…¥å¹¶æ·»åŠ åˆ°æ‰§è¡Œé˜Ÿåˆ—

### ç§å­æ•°æ®æ¨¡æ¿

```javascript
const { v4: uuidv4 } = require('uuid');

module.exports = {
  up: async (queryInterface, Sequelize) => {
    // æ’å…¥æ•°æ®çš„é€»è¾‘
    await queryInterface.bulkInsert('table_name', [
      {
        id: uuidv4(),
        // ... å…¶ä»–å­—æ®µ
        created_at: new Date(),
        updated_at: new Date()
      }
    ], {});

    console.log('âœ… æ•°æ®åˆ›å»ºæˆåŠŸ');
  },

  down: async (queryInterface, Sequelize) => {
    // åˆ é™¤æ•°æ®çš„é€»è¾‘
    await queryInterface.bulkDelete('table_name', {
      // åˆ é™¤æ¡ä»¶
    }, {});

    console.log('ğŸ—‘ï¸  æ•°æ®å·²åˆ é™¤');
  }
};
```

## æ•…éšœæ’æŸ¥

### é—®é¢˜: æ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æ•°æ®åº“æœåŠ¡å·²å¯åŠ¨ã€‚

### é—®é¢˜: è¡¨ä¸å­˜åœ¨é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿å·²è¿è¡Œæ‰€æœ‰æ•°æ®åº“è¿ç§»:

```bash
cd backend
npx sequelize-cli db:migrate
```

### é—®é¢˜: é‚®ç®±é‡å¤é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**: æ¼”ç¤ºç”¨æˆ·å¯èƒ½å·²å­˜åœ¨ï¼Œå…ˆè¿è¡Œå›æ»šå‘½ä»¤æ¸…ç†æ•°æ®:

```bash
node backend/src/seeders/index.js rollback
```

## ç›¸å…³å‘½ä»¤

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
npx sequelize-cli db:migrate

# å›æ»šæ•°æ®åº“è¿ç§»
npx sequelize-cli db:migrate:undo

# æ‰§è¡Œç§å­æ•°æ®
node backend/src/seeders/index.js

# å›æ»šç§å­æ•°æ®
node backend/src/seeders/index.js rollback
```

---

*æœ€åæ›´æ–°: 2025-09-30*